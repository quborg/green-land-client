import { ApolloClient, from } from '@apollo/client';
import { auth, cache, error, http } from 'src/apollo/links';

const apolloClient: TYPES.ApolloClientType = (handleUpdateErrors) =>
  new ApolloClient({
    link: from([auth, error(handleUpdateErrors), http]),
    cache,
    connectToDevTools: process.env.NODE_ENV !== 'production',
    assumeImmutableResults: true,
  });

export default apolloClient;
